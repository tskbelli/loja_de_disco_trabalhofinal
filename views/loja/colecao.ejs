<%- include('cabecalholoja.ejs') %>

<div class="d-flex align-items-center mb-5">
    <div class="me-3 bg-success text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
        <i class="bi bi-music-player-fill fs-3"></i>
    </div>
    <div>
        <h1 class="fw-bold mb-0">Minha Coleção</h1>
        <p class="text-muted mb-0">Discos adquiridos.</p>
    </div>
</div>

<% if(discos.length === 0) { %>
    <div class="text-center py-5 border rounded-3 bg-white shadow-sm">
        <h3 class="text-muted">Sua coleção está vazia.</h3>
        <p class="text-muted mb-4">Que tal adicionar alguns clássicos?</p>
        <a href="/loja/catalogo" class="btn btn-primary rounded-pill px-4">Ir para a Loja</a>
    </div>
<% } else { %>
    <div class="row g-4">
        <% for(const disco of discos) { %>
            <div class="col-6 col-md-3 col-lg-2">
                <div class="card h-100 border-0 bg-transparent text-center group-hover-effect">
                    <div class="position-relative mb-3 shadow rounded-3 overflow-hidden">
                        <% if(disco.img) { %>
                            <img src="<%= disco.img %>" class="img-fluid" style="aspect-ratio: 1/1; object-fit: cover;">
                        <% } else { %>
                            <div class="bg-secondary ratio ratio-1x1 d-flex align-items-center justify-content-center">
                                <i class="bi bi-disc-fill text-white fs-1"></i>
                            </div>
                        <% } %>
                        
                        <!-- Overlay de Play (Decorativo) -->
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-dark bg-opacity-25 opacity-0 hover-opacity-100 transition-opacity">
                            <i class="bi bi-play-circle-fill text-white display-4"></i>
                        </div>
                    </div>
                    <h6 class="fw-bold text-dark text-truncate mb-0"><%= disco.titulo %></h6>
                    <small class="text-muted"><%= disco.artista %></small>
                </div>
            </div>
        <% } %>
    </div>
<% } %>

<!-- Estilo extra apenas para o efeito de hover nesta página -->
<style>
    .hover-opacity-100:hover { opacity: 1 !important; cursor: pointer; }
    .transition-opacity { transition: opacity 0.3s ease; }
</style>

<%- include('rodapeloja.ejs') %>